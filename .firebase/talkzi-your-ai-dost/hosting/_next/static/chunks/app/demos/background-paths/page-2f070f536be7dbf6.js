(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6659],{283:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>l});var n=r(5155),a=r(2115),o=r(2643),s=r(5695);let i=a.createContext(void 0),l=e=>{let{children:t}=e,[r,l]=a.useState(null),[c,u]=a.useState(null),[d,h]=a.useState(null),[m,g]=a.useState(!0),[p,f]=a.useState(!0),v=(0,s.useRouter)(),x=(0,s.usePathname)();(0,a.useEffect)(()=>{(async()=>{g(!0),f(!0);try{let{data:{session:t},error:r}=await o.N.auth.getSession();if(r)console.error("Error fetching initial session:",r.message),(r.message.includes("Invalid Refresh Token")||r.message.includes("Refresh Token Not Found")||r.message.includes("invalid_grant"))&&(console.warn("Invalid token detected during initial session fetch, attempting to sign out to clear state."),await o.N.auth.signOut()),u(null),l(null),h(null);else{var e;u(t);let r=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null;if(l(r),r){let{data:e,error:t}=await o.N.from("profiles").select("*").eq("id",r.id).single();t&&"PGRST116"!==t.code&&console.error("Initial profile fetch error:",t),h(e)}else h(null)}}catch(e){console.error("Critical error during initial data fetch (AuthProvider):",e.message,e),u(null),l(null),h(null)}finally{g(!1),f(!1)}})();let{data:e}=o.N.auth.onAuthStateChange(async(e,t)=>{var n;console.log("Auth State Change Event:",e,t),g(!0),u(t);let a=null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null,s=null==r?void 0:r.id;if(l(a),"SIGNED_OUT"===e){if(console.log("User signed out. Clearing profile."),s)try{localStorage.removeItem("talkzi_chat_history_".concat(s)),localStorage.removeItem("talkzi_ai_friend_type_".concat(s)),localStorage.removeItem("talkzii_chat_memory_".concat(s)),localStorage.removeItem("talkzii_memory_warning_shown_".concat(s))}catch(e){console.error("Error clearing user-specific localStorage on sign out",e)}h(null),f(!1),g(!1);return}if(a){f(!0);let{data:e,error:t}=await o.N.from("profiles").select("*").eq("id",a.id).single();t&&"PGRST116"!==t.code&&console.error("Error fetching profile on auth change:",t),h(e),f(!1)}else h(null),f(!1);g(!1)});return()=>{null==e||e.subscription.unsubscribe()}},[]),(0,a.useEffect)(()=>{if(m)return;let e="/auth"===x;c&&e&&v.push("/aipersona")},[c,x,v,m]);let b=async()=>{let{error:e}=await o.N.auth.signOut();e&&console.error("Error signing out: ",e)},y=m||!!r&&p,k=(0,a.useMemo)(()=>({user:r,session:c,profile:d,isLoading:y,signOut:b}),[r,c,d,y]);return(0,n.jsx)(i.Provider,{value:k,children:t})},c=()=>{let e=a.useContext(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider. Check your component tree and ensure AuthProvider is an ancestor, especially in layout.tsx or equivalent files. If this error persists after confirming the provider setup, try deleting your .next folder and restarting the dev server to clear potential caching issues.");return e}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>l});var n=r(5155),a=r(2115),o=r(9708),s=r(2085),i=r(9434);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:c=!1,...u}=e,d=c?o.DX:"button";return(0,n.jsx)(d,{className:(0,i.cn)(l({variant:a,size:s,className:r})),ref:t,...u})});c.displayName="Button"},2643:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n=(0,r(851).UU)("https://your-supabase-url.supabase.co","your-supabase-anon-key",{auth:{persistSession:!0,autoRefreshToken:!0}})},2902:(e,t,r)=>{Promise.resolve().then(r.bind(r,7671))},7671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(5155),a=r(1978),o=r(285),s=r(9434),i=r(5695),l=r(283);function c(e){let{position:t}=e,r=Array.from({length:36},(e,r)=>({id:r,d:"M-".concat(380-5*r*t," -").concat(189+6*r,"C-").concat(380-5*r*t," -").concat(189+6*r," -").concat(312-5*r*t," ").concat(216-6*r," ").concat(152-5*r*t," ").concat(343-6*r,"C").concat(616-5*r*t," ").concat(470-6*r," ").concat(684-5*r*t," ").concat(875-6*r," ").concat(684-5*r*t," ").concat(875-6*r),width:.5+.03*r}));return(0,n.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,n.jsxs)("svg",{className:"w-full h-full text-[hsl(var(--chart-5))]",viewBox:"0 0 696 316",fill:"none",children:[(0,n.jsx)("title",{children:"Background Paths"}),r.map(e=>(0,n.jsx)(a.P.path,{d:e.d,stroke:"currentColor",strokeWidth:e.width,strokeOpacity:.1+.03*e.id,initial:{pathLength:.3,opacity:.6},animate:{pathLength:1,opacity:[.3,.6,.3],pathOffset:[0,1,0]},transition:{duration:6+4*Math.random(),repeat:Number.POSITIVE_INFINITY,ease:"linear"}},e.id))]})})}function u(e){let{title:t="Background Paths",subtitle:r,ctaText:u="Discover Excellence",onCtaClick:d}=e,h=t.split(" "),m=(0,i.useRouter)(),{user:g}=(0,l.A)(),p=d||(()=>{g?m.push("/aipersona"):m.push("/auth")});return(0,n.jsxs)("div",{className:"relative min-h-[calc(100vh-4rem)] sm:min-h-screen w-full flex items-center justify-center overflow-hidden bg-background text-foreground py-12 sm:py-16",children:[(0,n.jsxs)("div",{className:"absolute inset-0",children:[(0,n.jsx)(c,{position:1}),(0,n.jsx)(c,{position:-1})]}),(0,n.jsx)("div",{className:"relative z-10 container mx-auto px-4 md:px-6 text-center",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4 sm:mb-6 tracking-tight",children:h.map((e,t)=>(0,n.jsx)("span",{className:"inline-block mr-2 sm:mr-3 last:mr-0",children:e.split("").map((e,r)=>(0,n.jsx)(a.P.span,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.02*t+.01*r,type:"tween",duration:.2,ease:"easeOut"},className:"inline-block text-transparent bg-clip-text bg-gradient-to-r from-foreground to-foreground/80",children:e},"".concat(t,"-").concat(r)))},t))}),r&&(0,n.jsx)("p",{className:"text-base sm:text-lg text-muted-foreground mb-6 sm:mb-8 max-w-xl sm:max-w-2xl mx-auto px-2",children:r}),(0,n.jsx)("div",{className:"inline-block group relative bg-gradient-to-b from-foreground/5 to-background/5 p-px rounded-2xl backdrop-blur-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,n.jsxs)(o.$,{variant:"ghost",onClick:p,className:(0,s.cn)("rounded-[1.15rem] px-6 py-3 sm:px-8 sm:py-4 text-sm sm:text-base font-semibold backdrop-blur-md","bg-card/95 hover:bg-card text-card-foreground","transition-all duration-300 group-hover:-translate-y-0.5 border border-border","hover:shadow-md"),children:[(0,n.jsx)("span",{className:"opacity-90 group-hover:opacity-100 transition-opacity",children:u}),(0,n.jsx)("span",{className:"ml-2 sm:ml-3 opacity-70 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300",children:"â†’"})]})})]})})]})}var d=r(6874),h=r.n(d);function m(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{title:"Animated Background",ctaText:"Explore Talkzii",onCtaClick:()=>{console.log("Discover Excellence clicked!")}}),(0,n.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,n.jsx)(o.$,{asChild:!0,variant:"outline",children:(0,n.jsx)(h(),{href:"/",children:"Back to Home"})})})]})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var n=r(2596),a=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6874,6629,1978,8441,1684,7358],()=>t(2902)),_N_E=e.O()}]);