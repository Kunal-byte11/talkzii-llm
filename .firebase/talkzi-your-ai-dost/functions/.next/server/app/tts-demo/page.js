(()=>{var e={};e.id=228,e.ids=[228],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var s=r(65239),o=r(48088),a=r(88170),i=r.n(a),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l={children:["",{children:["tts-demo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74912)),"/home/user/studio/src/app/tts-demo/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/home/user/studio/src/app/tts-demo/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/tts-demo/page",pathname:"/tts-demo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7823:(e,t,r)=>{Promise.resolve().then(r.bind(r,74912))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var s=r(60687),o=r(43210),a=r(4780);let i=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));i.displayName="Textarea"},55246:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),o=r(43210),a=r(29523),i=r(34729),n=r(80013),d=r(85814),l=r.n(d);let u=(0,r(82614).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function c(){let[e,t]=(0,o.useState)(""),[r,d]=(0,o.useState)(!1),[c,p]=(0,o.useState)(null),[m,x]=(0,o.useState)(null),h=async()=>{if(!e.trim()){p("Please enter some text to speak.");return}p(null),d(!0),m&&(m.pause(),m.currentTime=0);try{let t=await fetch("/api/speak",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!t.ok){let e=await t.json();console.error("Error from /api/speak:",e),p(e.error||`Error: ${t.statusText}`),d(!1);return}let r=await t.blob();if("audio/wav"!==r.type){let e=await r.text();try{let t=JSON.parse(e);p(t.error||"Received non-audio data. The model might not be a TTS model or input was invalid.")}catch{p("Received non-audio data. Check if the Hugging Face model is a TTS model and if your input is valid.")}console.error("Received non-audio data:",e),d(!1);return}let s=URL.createObjectURL(r),o=new Audio(s);o.onended=()=>{d(!1),URL.revokeObjectURL(s)},o.onerror=e=>{console.error("Audio playback error",e),p("Failed to play audio."),d(!1),URL.revokeObjectURL(s)},await o.play(),x(o)}catch(e){console.error("Fetch error in speak function:",e),p("Failed to fetch audio. Check your network or the server logs."),d(!1)}};return(0,s.jsx)("div",{className:"container mx-auto p-4 sm:p-6 md:p-10 min-h-screen flex flex-col items-center bg-background",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(l(),{href:"/",passHref:!0,children:(0,s.jsxs)(a.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-4 w-4"}),"Back to Home"]})})}),(0,s.jsxs)("div",{className:"bg-card p-6 sm:p-8 rounded-xl shadow-xl border border-border",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 text-primary",children:"\uD83C\uDF99️ Talkzii – Nari Voice Demo"}),(0,s.jsxs)("p",{className:"text-center text-muted-foreground mb-6 text-sm sm:text-base",children:['Enter text below and click "Speak with Nari" to hear it spoken using the',(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded text-xs mx-1",children:"nari-labs/Dia-1.6B"})," model via Hugging Face."]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.J,{htmlFor:"tts-text",className:"text-sm font-medium text-foreground mb-1 block",children:"Text to Speak:"}),(0,s.jsx)(i.T,{id:"tts-text",value:e,onChange:e=>t(e.target.value),rows:4,className:"bg-input border-border focus:border-primary placeholder:text-muted-foreground/70",placeholder:"Type what you want Nari to say..."})]}),c&&(0,s.jsx)("p",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded-md border border-destructive/30",children:c}),(0,s.jsx)(a.$,{onClick:h,disabled:r||!e.trim(),className:"w-full gradient-button text-base py-3 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:r?"Generating Audio...":"Speak with Nari \uD83D\uDDE3️"})]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground text-center mt-8",children:["Note: The Hugging Face model ",(0,s.jsx)("code",{className:"text-xs",children:"nari-labs/Dia-1.6B"})," appears to be a large language model, not primarily a TTS model. If you don't hear audio or get an error, it might be due to model incompatibility for direct TTS output. This demo implements the client-server flow as requested."]})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67655:(e,t,r)=>{Promise.resolve().then(r.bind(r,55246))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(31658);let o=async e=>[{type:"image/x-icon",sizes:"682x600",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},74912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/tts-demo/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/tts-demo/page.tsx","default")},78148:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var s=r(43210),o=r(14163),a=r(60687),i=s.forwardRef((e,t)=>(0,a.jsx)(o.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var s=r(60687),o=r(43210),a=r(78148),i=r(24224),n=r(4780);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(a.b,{ref:r,className:(0,n.cn)(d(),e),...t}));l.displayName=a.b.displayName},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,752,658,814,713],()=>r(6829));module.exports=s})();