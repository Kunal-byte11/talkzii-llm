(()=>{var e={};e.id=365,e.ids=[365],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35730:(e,t,r)=>{Promise.resolve().then(r.bind(r,40463))},40463:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var s=r(60687),a=r(43210),i=r(16189),n=r(85814),o=r.n(n),l=r(29523),d=r(89667),u=r(80013),c=r(64339),p=r(79481),m=r(29867),f=r(91821),x=r(50812),g=r(70569),h=r(11273),b=r(72942),v=r(46059),y=r(14163),j=r(43),w=r(65551),N=r(96963),k="Tabs",[P,C]=(0,h.A)(k,[b.RG]),q=(0,b.RG)(),[S,A]=P(k),_=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,c=(0,j.jH)(l),[p,m]=(0,w.i)({prop:a,onChange:i,defaultProp:n});return(0,s.jsx)(S,{scope:r,baseId:(0,N.B)(),value:p,onValueChange:m,orientation:o,dir:c,activationMode:d,children:(0,s.jsx)(y.sG.div,{dir:c,"data-orientation":o,...u,ref:t})})});_.displayName=k;var R="TabsList",L=a.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...i}=e,n=A(R,r),o=q(r);return(0,s.jsx)(b.bL,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:a,children:(0,s.jsx)(y.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});L.displayName=R;var E="TabsTrigger",z=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:i=!1,...n}=e,o=A(E,r),l=q(r),d=G(o.baseId,a),u=T(o.baseId,a),c=a===o.value;return(0,s.jsx)(b.q7,{asChild:!0,...l,focusable:!i,active:c,children:(0,s.jsx)(y.sG.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...n,ref:t,onMouseDown:(0,g.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,g.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,g.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;c||i||!e||o.onValueChange(a)})})})});z.displayName=E;var F="TabsContent",$=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:n,children:o,...l}=e,d=A(F,r),u=G(d.baseId,i),c=T(d.baseId,i),p=i===d.value,m=a.useRef(p);return a.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(v.C,{present:n||p,children:({present:r})=>(0,s.jsx)(y.sG.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:c,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:r&&o})})});function G(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}$.displayName=F;var M=r(4780);let D=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(L,{ref:r,className:(0,M.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));D.displayName=L.displayName;let I=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(z,{ref:r,className:(0,M.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));I.displayName=z.displayName;let V=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)($,{ref:r,className:(0,M.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));V.displayName=$.displayName;var H=r(72963),K=r(82614);let X=(0,K.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),J=(0,K.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var U=r(63213);function W(){let e=(0,i.useRouter)(),{toast:t}=(0,m.dj)(),{session:r,isLoading:n}=(0,U.A)(),[g,h]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[k,P]=(0,a.useState)(!1),[C,q]=(0,a.useState)(!1),[S,A]=(0,a.useState)(""),[R,L]=(0,a.useState)(void 0),[E,z]=(0,a.useState)("login"),F=async e=>{e.preventDefault(),j(!0),N(null);let{error:r}=await p.N.auth.signInWithPassword({email:g,password:b});j(!1),r?(N(r.message),t({title:"Login Failed",description:r.message,variant:"destructive"})):t({title:"Login Successful!",description:"Welcome back!"})},$=async e=>{if(e.preventDefault(),N(null),b.length<6){N("Password must be at least 6 characters long."),t({title:"Validation Error",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(b!==S){N("Passwords do not match."),t({title:"Validation Error",description:"Passwords do not match.",variant:"destructive"});return}if(!R){N("Please select your gender."),t({title:"Validation Error",description:"Please select your gender.",variant:"destructive"});return}j(!0);let{data:r,error:s}=await p.N.auth.signUp({email:g,password:b});if(s){j(!1),N(s.message),t({title:"Signup Failed",description:s.message,variant:"destructive"});return}if(r.user){let e=g.split("@")[0]||`user${Date.now().toString().slice(-6)}`,s={id:r.user.id,username:e,email:r.user.email||"",gender:R},{error:a}=await p.N.from("profiles").insert(s);if(a){j(!1),N(`Account created, but failed to save profile: ${a.message}.`),t({title:"Profile Save Failed",description:`Your account was created, but we couldn't save other profile details. ${a.message}`,variant:"destructive"});return}t({title:"Signup Successful!",description:"Welcome to Talkzii! Please check your email if confirmation is required."})}else N("An unexpected error occurred during signup. User data not found. Please try again."),t({title:"Signup Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"});j(!1)};return n&&!r?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:[(0,s.jsx)(c.g,{width:120,height:40,className:"mb-4 animate-pulse"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading authentication state..."})]}):(0,s.jsx)("div",{className:"relative flex size-full min-h-screen flex-col bg-background justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("header",{className:"flex items-center bg-background p-4 pb-2 justify-center",children:(0,s.jsx)(o(),{href:"/",passHref:!0,children:(0,s.jsx)(c.g,{width:144,height:48})})}),(0,s.jsxs)(_,{value:E,onValueChange:z,className:"w-full max-w-md mx-auto mt-2 sm:mt-4",children:[(0,s.jsxs)(D,{className:"flex border-b border-border px-4 gap-8 justify-start bg-transparent p-0",children:[(0,s.jsx)(I,{value:"login",className:"flex flex-col items-center justify-center border-b-[3px] data-[state=active]:border-primary data-[state=active]:text-foreground border-transparent text-muted-foreground pb-[13px] pt-4 px-1 sm:px-2 text-sm font-bold tracking-[0.015em] rounded-none shadow-none hover:text-foreground data-[state=active]:shadow-none focus-visible:ring-0 focus-visible:ring-offset-0 flex-1 sm:flex-initial",children:"Login"}),(0,s.jsx)(I,{value:"signup",className:"flex flex-col items-center justify-center border-b-[3px] data-[state=active]:border-primary data-[state=active]:text-foreground border-transparent text-muted-foreground pb-[13px] pt-4 px-1 sm:px-2 text-sm font-bold tracking-[0.015em] rounded-none shadow-none hover:text-foreground data-[state=active]:shadow-none focus-visible:ring-0 focus-visible:ring-offset-0 flex-1 sm:flex-initial",children:"Sign Up"})]}),(0,s.jsx)(V,{value:"login",className:"mt-0",children:(0,s.jsxs)("form",{onSubmit:F,className:"px-4 py-3 space-y-4",children:[w&&"login"===E&&(0,s.jsxs)(f.Fc,{variant:"destructive",className:"mb-4",children:[(0,s.jsx)(H.A,{className:"h-4 w-4"}),(0,s.jsx)(f.XL,{children:"Error"}),(0,s.jsx)(f.TN,{children:w})]}),(0,s.jsx)("div",{children:(0,s.jsx)(d.p,{id:"login-email",type:"email",value:g,onChange:e=>h(e.target.value),placeholder:"Email",required:!0,className:"rounded-xl bg-input focus:border-none h-14 placeholder:text-muted-foreground p-4 text-base font-normal leading-normal border-none focus-visible:ring-primary focus-visible:ring-1"})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.p,{id:"login-password",type:k?"text":"password",value:b,onChange:e=>v(e.target.value),placeholder:"Password",required:!0,className:"rounded-xl bg-input focus:border-none h-14 placeholder:text-muted-foreground p-4 text-base font-normal leading-normal border-none pr-10 focus-visible:ring-primary focus-visible:ring-1"}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 text-muted-foreground hover:text-foreground",onClick:()=>P(!k),title:k?"Hide password":"Show password",children:k?(0,s.jsx)(X,{className:"h-5 w-5"}):(0,s.jsx)(J,{className:"h-5 w-5"})})]})}),(0,s.jsx)(o(),{href:"#",className:"block text-muted-foreground text-sm font-normal leading-normal pt-1 px-0 underline",children:"Forgot Password?"}),(0,s.jsx)(l.$,{type:"submit",disabled:y,className:"w-full rounded-full h-12 px-5 bg-primary text-primary-foreground text-base font-bold tracking-[0.015em] hover:bg-primary/90",children:y?"Logging In...":"Login"})]})}),(0,s.jsx)(V,{value:"signup",className:"mt-0",children:(0,s.jsxs)("form",{onSubmit:$,className:"px-4 py-3 space-y-4",children:[w&&"signup"===E&&(0,s.jsxs)(f.Fc,{variant:"destructive",className:"mb-4",children:[(0,s.jsx)(H.A,{className:"h-4 w-4"}),(0,s.jsx)(f.XL,{children:"Error"}),(0,s.jsx)(f.TN,{children:w})]}),(0,s.jsx)("div",{children:(0,s.jsx)(d.p,{id:"signup-email",type:"email",value:g,onChange:e=>h(e.target.value),placeholder:"Email",required:!0,className:"rounded-xl bg-input focus:border-none h-14 placeholder:text-muted-foreground p-4 text-base font-normal leading-normal border-none focus-visible:ring-primary focus-visible:ring-1"})}),(0,s.jsxs)("div",{className:"pt-1",children:[(0,s.jsx)(u.J,{className:"text-muted-foreground font-normal text-sm mb-2 block",children:"Gender"}),(0,s.jsx)(x.z,{onValueChange:e=>L(e),value:R,className:"flex flex-wrap gap-x-4 gap-y-2",children:["male","female","prefer_not_to_say"].map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x.C,{value:e,id:`gender-${e}`,className:"border-muted-foreground data-[state=checked]:border-primary data-[state=checked]:text-primary"}),(0,s.jsx)(u.J,{htmlFor:`gender-${e}`,className:"font-normal text-foreground capitalize",children:"prefer_not_to_say"===e?"Prefer not to say":e})]},e))})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.p,{id:"signup-password",type:k?"text":"password",value:b,onChange:e=>v(e.target.value),placeholder:"Password (min. 6 characters)",required:!0,minLength:6,className:"rounded-xl bg-input focus:border-none h-14 placeholder:text-muted-foreground p-4 text-base font-normal leading-normal border-none pr-10 focus-visible:ring-primary focus-visible:ring-1"}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 text-muted-foreground hover:text-foreground",onClick:()=>P(!k),title:k?"Hide password":"Show password",children:k?(0,s.jsx)(X,{className:"h-5 w-5"}):(0,s.jsx)(J,{className:"h-5 w-5"})})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.p,{id:"confirm-password",type:C?"text":"password",value:S,onChange:e=>A(e.target.value),placeholder:"Confirm Password",required:!0,minLength:6,className:"rounded-xl bg-input focus:border-none h-14 placeholder:text-muted-foreground p-4 text-base font-normal leading-normal border-none pr-10 focus-visible:ring-primary focus-visible:ring-1"}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 text-muted-foreground hover:text-foreground",onClick:()=>q(!C),title:C?"Hide confirm password":"Show confirm password",children:C?(0,s.jsx)(X,{className:"h-5 w-5"}):(0,s.jsx)(J,{className:"h-5 w-5"})})]})}),(0,s.jsx)(l.$,{type:"submit",disabled:y,className:"w-full rounded-full h-12 px-5 bg-primary text-primary-foreground text-base font-bold tracking-[0.015em] hover:bg-primary/90",children:y?"Creating Account...":"Create Account"})]})})]}),(0,s.jsx)("div",{className:"max-w-md mx-auto px-4 py-3 mt-2",children:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>e.push("/aipersona"),className:"w-full rounded-full h-12 px-5 bg-input text-foreground text-base font-bold tracking-[0.015em] border-none hover:bg-muted",children:"Continue as Guest"})}),(0,s.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-4 mb-8 px-4",children:"By signing up, you agree to our (non-existent) Terms of Service."})]})})}},50812:(e,t,r)=>{"use strict";r.d(t,{C:()=>d,z:()=>l});var s=r(60687),a=r(43210),i=r(82459),n=r(73256),o=r(4780);let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.bL,{className:(0,o.cn)("grid gap-2",e),...t,ref:r}));l.displayName=i.bL.displayName;let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.q7,{ref:r,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=i.q7.displayName},52509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68305)),"/home/user/studio/src/app/auth/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/home/user/studio/src/app/auth/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64339:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var s=r(60687),a=r(30474);function i(e){let{width:t,height:r,...i}=e;return(0,s.jsx)(a.default,{src:"/icons/assets/logo1.png",alt:"Talkzii Logo",width:t||150,height:r||100,...i})}},68305:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/auth/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/auth/page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"682x600",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72682:(e,t,r)=>{Promise.resolve().then(r.bind(r,68305))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(60687),a=r(43210),i=r(78148),n=r(24224),o=r(4780);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,o.cn)(l(),e),...t}));d.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},89667:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(60687),a=r(43210),i=r(4780);let n=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));n.displayName="Input"},91645:e=>{"use strict";e.exports=require("net")},91821:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>u,XL:()=>d});var s=r(60687),a=r(43210),i=r(24224),n=r(4780);let o=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>(0,s.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:t}),e),...r}));l.displayName="Alert";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));u.displayName="AlertDescription"},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,752,658,814,474,815,713],()=>r(52509));module.exports=s})();